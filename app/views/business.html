{% extends "mspsds-layout.html" %}

{% block pageTitle %}
  Business Page
{% endblock %}

{% block beforeContent %}

  {{ govukPhaseBanner({
    tag: {
      text: "beta"
    },
    html: 'This is a new service – your <a class="govuk-link" href="#">feedback</a> will help us to improve it.'
  }) }}

  {{ govukBackLink({
    text: "Back to Businesses",
    href: "/business-list"
  }) }}

{% endblock %}



{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    {{ pageTitle({
      type:       "Business",
      title:      "Tesco PLC",
      subTitle:   "Trading as: Tesco"
    }) }}

  </div>

  <div class="govuk-grid-column-one-third">
    {% include "includes/stat-highlight.html" %}
  </div>
  
</div>

{% include "panels/business-panel.html" %}

<hr class="govuk-section-break govuk-section-break--m" />

{{ govukTabs({
  items: [
    {
      label: "Activity",
      id: "activity",
      panel: {
        html: activityHtml
      }
    },
    {
      label: "Full details",
      id: "full-detail",
      panel: {
        html: fullDetailHtml
      }
    },
    {
      label: "Contact details",
      id: "contacts",
      panel: {
        html: contactsHtml
      }
    },
    {
      label: "Products",
      id: "products",
      panel: {
        html: productsHtml
      }
    },
    {
      label: "Attachments",
      id: "attachments",
      panel: {
        html: attachmentsHtml
      }
    },
    {
      label: "Related",
      id: "related",
      panel: {
        html: relatedItemsHtml
      }
    }
  ]
}) }}

{% endblock %}



{% set activityHtml %}
  {% from "includes/tab-title.html"             import tabTitle %}
  {% from "includes/activity-timeline.html"     import activityTimeline %}


  {{ tabTitle({
        title:      'Activity'
  }) }}


  {{ activityTimeline([
    {
      action: "Product added: Travel plug adaptor — Charge Worx 931L",
      html: '
        <p>Role: <span class="govuk-!-font-weight-bold">Distributor</span></p>
        <details class="govuk-details">
          <summary class="govuk-details__summary">
            <span class="govuk-details__summary-text">
              Product details
            </span>
          </summary>
          <div class="govuk-details__text govuk-body-s">
            Brand: Charge Worx<br />
            Model Name: International Travel Adaptor<br />
            Model number: 931L<br />
            Description: Universal travel USB plug adaptor with surge protector
          </div>
        </details>'
    },
    {
      action: "Business created"
    }
  ]) }}

{% endset -%}



{% set contactsHtml %}
  {% from "tab-sections/contact-section.html" import contactSection %}
  {{ contactSection({
    locations: [
      {
        title:    'Main site',
        street:   '48 Bush Road',
        city:     'London',
        postcode: 'N1 1XQ'
      },
      {
        title:    'Secondary site',
        street:   '47 Bush Road',
        city:     'London',
        postcode: 'N1 2XQ'
      },
      {
        title:    '',
        street:   '49 Bush Road',
        city:     'London',
        postcode: 'N1 3XQ'
      },
      {
        title:    'Registered address',
        street:   '50 Bush Road',
        city:     'London',
        postcode: 'N1 4XQ'
      }
    ],
    contacts: {

    }
  }) }}
{% endset -%}




{% set attachmentsHtml %}
  {% from "includes/tab-title.html"             import tabTitle %}
  {% from "includes/attachment-list.html"       import attachmentList %}

  {{ tabTitle({
        title:      'Attachments',
        controls:   '<a href="#" class="mspsds-block-link">Add new image</a> <a href="#" class="mspsds-block-link">Add new document</a>'
  }) }}

  {{ attachmentList(5) }}

{% endset -%}



{% set productsHtml %}
  {% include "tab-sections/products-list-business.html" %}
{% endset -%}



{% set relatedItemsHtml %}
  <h2 class="govuk-heading-l">Linked to this business</h2>
  {% include "includes/linked-items.html" %}

  <h2 class="govuk-heading-l">Potentially related to this business</h2>
  {% include "includes/potential-relationships.html" %}
{% endset -%}



{% set fullDetailHtml %}
  {% include "tab-sections/full-detail-business.html" %}
{% endset -%}


