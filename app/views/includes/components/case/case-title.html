{% from "table/macro.njk"                                   import govukTable %}
{% from "includes/components/shared/page-title.html"        import pageTitle %}

<section class="mspsds-pagetitle">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% set caseTitle -%}

        {%- if case.type == "Question" -%}
           {{- currentCase.title | safe -}}
        {%- endif -%}

        {%- if currentCase.products | length > 0 -%}
          {{- " " + currentCase.products[0].name -}}
        {%- else -%}
          {{- " undefined product" -}}
        {%- endif -%}

        {%- if currentCase.type == 'case' -%}
          {%- if currentCase.report.hazardType -%}
            {{- " " + currentCase.report.hazardType -}}
          {%- else -%}
            {{- " undefined hazard" -}}
          {%- endif -%}
        {%- endif -%}
      {%- endset %}

      {{ pageTitle(
        {title: caseTitle | safe})
      }}
      {# {{ pageTitle({
        type:       currentCase.type + ' ' + currentCase.id,
        title:      currentCase.title | safe
      }) }} #}
    </div>
  </div>
</section>
