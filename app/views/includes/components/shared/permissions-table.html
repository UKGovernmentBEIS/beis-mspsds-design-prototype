{% set columnHeadersCSVdata = ",Case owner,Team added to case,Default view,Restricted view" %}

{% set columnHeaders = [] %}

{# (a.push(3),a) #}
{% for headerItem in columnHeadersCSVdata | csvToArray %}
  {% set itemData = {text: headerItem} %}
  {% if loop.first %}
    {% set itemData = {text: headerItem, classes: "govuk-!-width-one-third"} %}
  {% endif %}
  {% set columnHeaders = (columnHeaders.push(itemData), columnHeaders ) %}

{% endfor %}

{% set actionsCSVdata =
  "Change ownership,✔,✗,✗,✗
  Change restriction,✔,✗,✗,✗
  Change case status,✔,✗,✗,✗
  Manage teams on case,✔,✗,✗,✗
  Add comment,✔,✔,✔,✗"
%}

{{ govukTable({
  caption: "Case actions",
  firstCellIsHeader: true,
  head: columnHeaders,
  rows: actionsCSVdata | csvToGovukTable,
  classes: "govuk-!-margin-bottom-9"
}) }}


{% set caseInformationCSVdata =
  "Case title,✔,✔,✔,✔
  Case summary,✔,✔,✔,✗
  Case type and categories,✔,✔,✔,✗
  Risks and issues,✔,✔,✔,✗
  Source type and date,✔,✔,✔,✗
  Source name and contact details,✔,✔,✗,✗
  About the case,✔,✔,✔,✔
  Activity summary,✔,✔,✔,✗
  Activity details,✔,✔,✗,✗"
%}


{{ govukTable({
  caption: "Case information",
  firstCellIsHeader: true,
  head: columnHeaders,
  rows: caseInformationCSVdata | csvToGovukTable,
  classes: "govuk-!-margin-bottom-9"
}) }}

{% set caseDocumentsCSVdata =
  "Corrective actions,✔,✔,✔,✗
  Test results,✔,✔,✔,✗
  Risk assessments,✔,✔,✔,✗
  Correspondence,✔,✔,✗,✗
  Comments,✔,✔,✔,✗"
%}

{{ govukTable({
  caption: "Case documents and logs",
  firstCellIsHeader: true,
  head: columnHeaders,
  rows: caseDocumentsCSVdata | csvToGovukTable,
  classes: "govuk-!-margin-bottom-9"
}) }}


{% set caseLinkedItemsCSVdata =
  "Products,✔,✔,✔,✔
  Businesses,✔,✔,✔,✔"
%}

{{ govukTable({
  caption: "Linked items",
  firstCellIsHeader: true,
  head: columnHeaders,
  rows: caseLinkedItemsCSVdata | csvToGovukTable,
  classes: "govuk-!-margin-bottom-9"
}) }}

{% set caseAttachmentsCSVdata =
  "Product images,✔,✔,✔,✗
  Case images,✔,✔,✔,✗
  Attachments uploaded with a document,✔,✔,✔,✗
  Generic attachments,✔,✔,✗,✗"
%}

{{ govukTable({
  caption: "Attachments",
  firstCellIsHeader: true,
  head: columnHeaders,
  rows: caseAttachmentsCSVdata | csvToGovukTable,
  classes: "govuk-!-margin-bottom-9"
}) }}


