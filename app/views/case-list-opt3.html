
{% extends "mspsds-layout.html" %}

{% from "includes/case-filter.html"       import caseFilter %}
{% from "includes/case-sort.html"         import caseSort %}
{% from "includes/case-card.html"         import caseCard %}
{% from "includes/case-card-list.html"    import caseCardList %}

{% from "select/macro.njk"                import govukSelect %}

{% set bodyClasses = "mspsds-width-container case-list-3" %}


{% block pageTitle %}
  Case-list Page
{% endblock %}

{% block beforeContent %}

    {{ govukPhaseBanner({
        tag: {
          text: "beta"
        },
        html: 'This is a new service – your <a class="govuk-link" href="#">feedback</a> will help us to improve it.'
    }) }}
  
    {{ siteNavV2('/case-list') }}

{% endblock %}




{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {{ pageTitle({
        title: "Cases"
      }) }}
    </div>
  </div>

  

  <div class="govuk-grid-row">

    <div class="govuk-grid-column-one-quarter govuk-!-margin-bottom-2 mspsds-case-control">
        <form id="search" class="mspsds-search govuk-form-group" action="/search-results__cases-opt3" method="get" role="search">
            <div class="mspsds-search__content">
              <label for="mspsds-search__input" class="mspsds-search__label govuk-label" >Keywords</label>
              <input type="search" name="q" id="mspsds-search__input" title="Search" class="js-search-focus mspsds-search__input govuk-input" value="{{data['q']}}">
              <input class="submit mspsds-search__submit" type="submit" value="Search">
            </div>
        </form>
    </div>

  </div>


  <div class="govuk-grid-row">
    
    <div class="govuk-grid-column-one-quarter govuk-!-margin-bottom-2 mspsds-case-control">
      

      <div>
          
          {% call govukFieldset({
              legend: {
                text:           "Quick Filters",
                isPageHeading:  false
              }
            }) %}

              {{ govukRadios({
                idPrefix:   "quick-filter",
                name:       "quick-filter",
                items: [
                  {
                    value: "Assigned to me",
                    text: "Assigned to me",
                    checked: checked("quick-filter", "Assigned to me")
                  },
                  {
                    value: "Assigned to my team",
                    text: "Assigned to my team",
                    checked: checked("quick-filter", "Assigned to my team")
                  },
                  {
                    value: "High Priority",
                    text: "High Priority",
                    checked: checked("quick-filter", "High Priority")
                  },
                  {
                    value:  "Pre-triage",
                    text:   "Pre-triage",
                    checked: checked("quick-filter", "Pre-triage")
                  },
                  {
                    value: "5+ days since update",
                    text: "5+ days since update",
                    checked: checked("quick-filter", "5+ days since update")
                  }

                ]
              }) }}

          {% endcall %}

      </div>


      <div class="govuk-option-select ">
          
          <input type="checkbox" class="option-select-display" id="option-select-display-Status" checked>
          <label for="option-select-display-Status" class="option-select-label">Status</label>

          <div class="options-container">
            <div>
              {{ govukCheckboxes({
                idPrefix: "Status",
                name: "Status",
                items: [
                  {
                    value: "statusOpen",
                    text: "Open",
                    checked: true
                  },
                  {
                    value: "statusClosed",
                    text: "Closed"
                  }
                ]
              }) }}
            </div>
          </div>

      </div>

      
      <div class="govuk-option-select ">
          
          <input type="checkbox" class="option-select-display" id="option-select-display-Priority">
          <label for="option-select-display-Priority" class="option-select-label">Priority</label>

          <div class="options-container">
            <div>
              {{ govukCheckboxes({
                idPrefix: "Priority",
                name: "Priority",
                items: [
                  {
                    value: "PriorityHigh",
                    
                    text: "High"
                  },
                  {
                    value: "PriorityMedium",
                    text: "Medium"
                  },
                  {
                    value: "PriorityLow",
                    text: "Low"
                  }
                ]
              }) }}
            </div>
          </div>

      </div>




      <div class="govuk-option-select ">

          <input type="checkbox" class="option-select-display" id="option-select-display-Assignee">
          <label for="option-select-display-Assignee" class="option-select-label">Assignee</label>
          

          <div class="options-container">
            <div>
              
                {{ govukCheckboxes({
                  idPrefix: "Assignee",
                  name: "Assignee",
                  items: [
                    {
                      value: "Tim",
                      html: "Tim Harwood<br/>tim.harwood@softwire.com"
                    },
                    {
                      value: "Nick",
                      html: "Nick Golding<br/>nick.golding@softwire.com"
                    }
                  ]
                }) }}

                <label for="case-assignne-autocomplete" class="label ">Other
                  <div id="case-assignee-autocomplete-container"></div>
                </label>
                
              
            </div>

            
          </div>


          <script type="text/javascript">


            var assignees = [
              'Tim Harwood – tim.harwood@softwire.com',
              'Nick Golding – nick.golding@softwire.com',
              'Ed Smith-Muller – ed.smith-muller@softwire.com',
            ]
          

            element = document.querySelector('#case-assignee-autocomplete-container')
            id = 'case-assignne-autocomplete'
            accessibleAutocomplete({
              element: element,
              id: id,
              showNoOptionsFound: false,
              source: assignees
            })
          </script>


      </div>



      <div class="govuk-option-select ">
          
          <input type="checkbox" class="option-select-display" id="option-select-display-Created-Date">
          <label for="option-select-display-Created-Date" class="option-select-label">Created Date</label>

          <div class="options-container">
            <div>

                <div class="label">
                  {{ govukDateInput({
                    id: "from",
                    namePrefix: "from",
                    fieldset: {
                      legend: {
                        text: "From",
                        isPageHeading: false
                      }
                    }
                  }) }}

                </div>

                
                <div class="label">
                  {{ govukDateInput({
                    id: "to",
                    namePrefix: "to",
                    fieldset: {
                      legend: {
                        text: "To",
                        isPageHeading: false
                      }
                    }
                  }) }}  
                </div>

            </div>
          </div>

      </div>



      <div class="govuk-option-select ">
          
          <input type="checkbox" class="option-select-display" id="option-select-display-Update-Date">
          <label for="option-select-display-Update-Date" class="option-select-label">Update Date</label>

          <div class="options-container">
            <div>

                <div class="label">
                  {{ govukDateInput({
                    id: "from",
                    namePrefix: "from",
                    fieldset: {
                      legend: {
                        text: "From",
                        isPageHeading: false
                      }
                    }
                  }) }}

                </div>

                
                <div class="label">
                  {{ govukDateInput({
                    id: "to",
                    namePrefix: "to",
                    fieldset: {
                      legend: {
                        text: "To",
                        isPageHeading: false
                      }
                    }
                  }) }}  
                </div>

            </div>
          </div>

      </div>


      {{ govukButton({
        text: "Apply filters"
      }) }}




    </div>
    

    <div class="govuk-grid-column-three-quarters mspsds-case-list-tab mspsds-case-list--Open mspsds-case-list--High ">
      {{ caseCardList() }}
    </div>


  </div>





{% endblock %}
