{% extends "layout.html" %}

{% block pageTitle %}
  Product Page
{% endblock %}

{% block beforeContent %}
  <a class="govuk-back-link" href="/products">Back to list</a>
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-xl">
      <span class="govuk-caption-xl">Product</span>
      Travel plug adaptor â€” Charge Worx 931L
    </h1>
    <p class="govuk-body">Created: 6th May 2018</p>
  </div>

  {% include "includes/stat-highlight.html" %}
</div>

{% include "panels/product-panel.html" %}

<hr class="govuk-section-break govuk-section-break--m" />

{{ govukTabs({
  items: [
    {
      label: "Activity",
      id: "activity",
      panel: {
        html: activityHtml
      }
    },
    {
      label: "Attachments",
      id: "attachments",
      panel: {
        html: attachmentsHtml
      }
    },
    {
      label: "Businesses",
      id: "businesses",
      panel: {
        html: businessesHtml
      }
    },
    {
      label: "Legislation",
      id: "legislation",
      panel: {
        html: legislationHtml
      }
    },
    {
      label: "Related Material",
      id: "related-material",
      panel: {
        html: relatedEntitiesHtml
      }
    },
    {
      label: "Full Detail",
      id: "full-detail",
      panel: {
        html: fullDetailHtml
      }
    }
  ]
}) }}

{% endblock %}

{% set activityHtml %}
<h2 class="govuk-heading-l">Activity</h2>

{% from "includes/activity-timeline.html" import activityTimeline %}

{{ activityTimeline([
  {
    action: "Comment added",
    text: "Definitely something dubious about this product"
  },
  {
    action: "Business added: Tesco PLC",
    html: '
      <p>Role: <span class="govuk-!-font-weight-bold">Distributor</span></p>
      <details class="govuk-details">
        <summary class="govuk-details__summary">
          <span class="govuk-details__summary-text">
            Business details
          </span>
        </summary>
        <div class="govuk-details__text govuk-body-s">
          <span class="govuk-!-font-weight-bold">Tesco PLC</span><br/>
          Trading as: Tesco<br/>
          Company number: 00445790
        </div>
      </details>'
  },
  {
    action: "Product created"
  }
]) }}

{% endset -%}

{% set attachmentsHtml %}
<h2 class="govuk-heading-l">Attachments</h2>
<a href="#">Add new image</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#">Add new document</a>

{% from "includes/attachment-list.html" import attachmentList %}

{{ attachmentList(5) }}

{% endset -%}

{% set businessesHtml %}
<h2 class="govuk-heading-l">Businesses</h2>

{% endset -%}

{% set legislationHtml %}
<h2 class="govuk-heading-l">Legislation</h2>

{% endset -%}

{% set relatedEntitiesHtml %}
<h2 class="govuk-heading-l">Related Material</h2>

{% endset -%}

{% set fullDetailHtml %}
{% include "tab-sections/full-detail-product.html" %}

{% endset -%}
