{% extends "mspsds-layout.html" %}

{% block pageTitle %}
  Process an incoming report
{% endblock %}

{% block beforeContent %}
  {{ govukPhaseBanner({
    tag: {
      text: "beta"
    },
    html: 'This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.'
  }) }}

  {{ govukBackLink({
    text: "Back to list",
    href: "/case-list"
  }) }}
{% endblock %}


{% block content %}

  {{ pageTitle({
    type:   "Report ref. 1810-0001",
    title:  "Product safety allegation"
  }) }}

  <div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <form action="./case-list" method="post" class="form">


        {% call govukFieldset({
          legend: {
            text:           "Confirm details",
            isPageHeading:  false,
            classes:        "govuk-fieldset__legend--l"
          }
        }) %}

        
        {{ govukTable({
          caption: "Incident",
          firstCellIsHeader: true,
          rows: [
            [
              { text: "Details" },
              { text: data['allegation-incident-detail'] }
            ],
            [
              { text: "Evidence" },
              { text: data['allegation-incident-photo'] }
            ],
            [
              { html: "<a href='#'>Edit</a>" },
              { text: "" }
            ]
          ]
        }) }}


        {{ govukTable({
          caption: "Product",
          firstCellIsHeader: true,
          rows: [
            [
              { text: "Barcode" },
              { text: data['allegation-product-barcode'] }
            ],
            [
              { text: "Link" },
              { text: data['allegation-product-url'] }
            ],
            [
              { text: "Type" },
              { text: data['allegation-product-type'] }
            ],
            [
              { text: "Name" },
              { text: data['allegation-product-name'] }
            ],
            [
              { text: "Description" },
              { text: data['allegation-product-description'] }
            ],
            [
              { html: "<a href='#'>Edit</a>" },
              { text: "" }
            ]
          ]
        }) }}


        {{ govukTable({
          caption: "Businesses",
          firstCellIsHeader: true,
          classes:  "govuk-!-margin-bottom-5",
          rows: [
            [
              { text: "Details" },
              { text: data['allegation-business-detail'] }
            ],
            [
              { text: "Evidence" },
              { text: data['allegation-business-photo'] }
            ],
            [
              { html: "<a href='#'>Edit</a>" },
              { text: "" }
            ]
          ]
        }) }}

        {% endcall %}



        {% call govukFieldset({
          legend: {
            text:           "Anything else?",
            isPageHeading:  false,
            classes:        "govuk-fieldset__legend--l"
          }
        }) %}
          {{ govukTextarea({
            name: "allegation-extra-detail",
            id:   "allegation-extra-detail",
            hint: {
              text: "Record any other information that doesn't fit in the previous screens"
            }
          }) }}

        {% endcall %}


        {% call govukFieldset({
          legend: {
            text:       "Any extra photos / documents?",
            classes:    "govuk-fieldset__legend--l"
          }
        }) %}

          {{ govukFileUpload({
            id: "allegation-extra-photo",
            name: "allegation-extra-photo",
            hint: {
              text: "Upload any images or documents that don't fit in the previous screens"
            }
          }) }}

        {% endcall %}



        {{ govukButton({
          text: "Save"
        }) }}

      </form>


  </div>

  <div class="govuk-grid-column-one-third">

    {% from "includes/step-navigation.html"         import stepNavigation %}

    {{ stepNavigation([
      {
        title: 'Incident details',
        description: 'Record any specific event that happened'
      },
      {
        title: 'Prodcut information',
        description: 'Record anything you can about products involved'
      },
      {
        title: 'Business information',
        description: 'Record anything you can about any businessed involved'
      },
      {
        title: 'Other information',
        active: 'true',
        description: 'Add any extra details, and summarise'
      }

    ])  }}


  </div>

</div>



{% endblock %}
