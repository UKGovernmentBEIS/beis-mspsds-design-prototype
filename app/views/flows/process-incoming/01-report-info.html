{% extends "mspsds-layout.html" %}

{% block pageTitle %}
  Process an incoming report
{% endblock %}

{% block beforeContent %}
  {{ govukPhaseBanner({
    tag: {
      text: "beta"
    },
    html: 'This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.'
  }) }}

  {{ govukBackLink({
    text: "Back to list",
    href: "/case-list"
  }) }}
{% endblock %}

{% block content %}
{{ pageTitle({
  type:   "Process an incoming report",
  title:  "Caller information"
}) }}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <form action="./01x-report-info-endpoint" method="post" class="form">

      {% set otherReporterHtml %}
        {{ govukInput({
          hint: {
            text:     "Please give details",
            classes:  "govuk-!-width-two-thirds"
          },
          classes:    "govuk-!-width-two-thirds",
          id:         "other-reporter",
          name:       "other-reporter"
        }) }}
      {% endset -%}

      {% call govukFieldset({
        legend: {
          text:           "Caller type",
          isPageHeading:  false,
          classes:        "govuk-fieldset__legend--l"
        }
      }) %}
        {{ govukRadios({
          idPrefix:   "reporter-type",
          name:       "reporter-type",
          items: [
            {
              value: "Consumer",
              text: "Consumer",
              checked: checked("reporter-type", "Consumer")
            },
            {
              value: "Business",
              text: "Business",
              checked: checked("reporter-type", "Business")
            },
            {
              value: "Local authority (Trading standards)",
              text: "Local authority (Trading standards)",
              checked: checked("reporter-type", "Local authority (Trading standards)")
            },
            {
              value: "Trade body",
              text: "Trade body",
              checked: checked("reporter-type", "Trade body")
            },
            {
              value: "Other MSA",
              text: "Other MSA",
              checked: checked("reporter-type", "Other MSA")
            },
            {
              value: "Other",
              text: "Other",
              conditional: {
                html: otherReporterHtml
              },
              checked: checked("reporter-type", "Other")
            }
          ]
        }) }}
      {% endcall %}

      {% call govukFieldset({
        legend: {
          text:           "Caller details",
          isPageHeading:  false,
          classes:        "govuk-fieldset__legend--l"
        }
      }) %}
        {{ govukInput({
          label: {
            text: "Name"
          },
          classes: "govuk-!-width-two-thirds",
          id:   "reporter-name",
          name: "reporter-name"
        }) }}

        {{ govukInput({
          label: {
            text: "Phone number"
          },
          classes: "govuk-!-width-two-thirds",
          id:   "reporter-phone-number",
          name: "reporter-phone-number"
        }) }}

        {{ govukInput({
          label: {
            text: "Email address"
          },
          classes: "govuk-!-width-two-thirds",
          id:   "reporter-email-address",
          name: "reporter-email-address"
        }) }}

        {{ govukTextarea({
          name: "reporter-other-detail",
          id:   "reporter-other-detail",
          label: {
            text: "Other details"
          },
          hint: {
            text: "Location, business/authority name, reference numbers etc"
          }
        }) }}
      {% endcall %}

      {% call govukFieldset({
        legend: {
          text:           "Issue type",
          isPageHeading:  false,
          classes:        "govuk-fieldset__legend--l"
        }
      }) %}
        {{ govukRadios({
          idPrefix:   "issue-type",
          name:       "issue-type",
          items: [
            {
              value: "Concern about a product",
              text: "Concern about a product",
              checked: checked("issue-type", "Concern about a product")
            },
            {
              value: "Question",
              text: "Question",
              checked: checked("issue-type", "Question")
            },
            {
              value: "Product recall notification",
              text: "Product recall notification",
              checked: checked("issue-type", "Product recall notification")
            },
            {
              value: "Notification from RAPEX",
              text: "Notification from RAPEX",
              checked: checked("issue-type", "Notification from RAPEX")
            }
          ]
        }) }}
      {% endcall %}

      {{ govukButton({
        text: "Continue"
      }) }}

    </form>

  </div>
</div>

{% endblock %}
